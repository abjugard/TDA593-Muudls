-- BP 7.1.6 content: Component syschar: 3 persistence-version: 7.1.6

INSERT INTO C_C
	VALUES ("ab2192c8-8390-4631-9e2c-fca2a1f30c08",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	'HotelComponent',
	'',
	0,
	"00000000-0000-0000-0000-000000000000",
	0,
	'');
INSERT INTO GD_MD
	VALUES ("846b2303-6b52-4914-8188-85dc5951f45b",
	111,
	"ab2192c8-8390-4631-9e2c-fca2a1f30c08",
	98,
	0,
	0,
	1,
	1,
	1,
	12,
	1,
	0,
	0,
	200,
	150,
	0,
	'4.1.0',
	'Hotel::Library::HotelComponent');
INSERT INTO GD_GE
	VALUES ("ab764a5a-dd38-4fc0-85ce-ae92aa743990",
	"846b2303-6b52-4914-8188-85dc5951f45b",
	"ab2192c8-8390-4631-9e2c-fca2a1f30c08",
	103,
	0,
	'Hotel::Library::HotelComponent');
INSERT INTO GD_SHP
	VALUES ("ab764a5a-dd38-4fc0-85ce-ae92aa743990");
INSERT INTO GD_CTR
	VALUES ("ab764a5a-dd38-4fc0-85ce-ae92aa743990");
INSERT INTO DIM_ND
	VALUES (613.000000,
	266.000000,
	"ab764a5a-dd38-4fc0-85ce-ae92aa743990");
INSERT INTO DIM_GE
	VALUES (4100.000000,
	3100.000000,
	"ab764a5a-dd38-4fc0-85ce-ae92aa743990",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("ab764a5a-dd38-4fc0-85ce-ae92aa743990",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_CON
	VALUES ("902c8784-0c66-4fe5-b55d-b0fdf378009e",
	4713.000000,
	3180.000000,
	"ab764a5a-dd38-4fc0-85ce-ae92aa743990");
INSERT INTO GD_GE
	VALUES ("55444e0a-a08b-4ecb-8a86-96fe136c3701",
	"846b2303-6b52-4914-8188-85dc5951f45b",
	"960454f9-cf5f-4331-88bf-8023709586b1",
	108,
	0,
	'Hotel::Library::HotelComponent::Hotel');
INSERT INTO GD_SHP
	VALUES ("55444e0a-a08b-4ecb-8a86-96fe136c3701");
INSERT INTO GD_NCS
	VALUES ("55444e0a-a08b-4ecb-8a86-96fe136c3701");
INSERT INTO DIM_ND
	VALUES (200.000000,
	150.000000,
	"55444e0a-a08b-4ecb-8a86-96fe136c3701");
INSERT INTO DIM_GE
	VALUES (4164.000000,
	3156.000000,
	"55444e0a-a08b-4ecb-8a86-96fe136c3701",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("55444e0a-a08b-4ecb-8a86-96fe136c3701",
	0,
	"ab764a5a-dd38-4fc0-85ce-ae92aa743990");
INSERT INTO GD_GE
	VALUES ("2df49237-814e-40de-a046-59de057c75e4",
	"846b2303-6b52-4914-8188-85dc5951f45b",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a",
	94,
	0,
	'Hotel::Library::HotelComponent::UserInterface::BookingProvider');
INSERT INTO GD_CON
	VALUES ("2df49237-814e-40de-a046-59de057c75e4",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO GD_CTXT
	VALUES ("c14ca2ee-e424-4dbf-89df-8ca84d8ca044",
	"2df49237-814e-40de-a046-59de057c75e4",
	1,
	0.000000,
	0.000000);
INSERT INTO DIM_ND
	VALUES (0.000000,
	0.000000,
	"c14ca2ee-e424-4dbf-89df-8ca84d8ca044");
INSERT INTO DIM_GE
	VALUES (0.000000,
	0.000000,
	"c14ca2ee-e424-4dbf-89df-8ca84d8ca044",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("c14ca2ee-e424-4dbf-89df-8ca84d8ca044",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO GD_CTXT
	VALUES ("c2aa7b9a-603e-4bba-a681-f17da80b144f",
	"2df49237-814e-40de-a046-59de057c75e4",
	3,
	0.000000,
	0.000000);
INSERT INTO DIM_ND
	VALUES (0.000000,
	0.000000,
	"c2aa7b9a-603e-4bba-a681-f17da80b144f");
INSERT INTO DIM_GE
	VALUES (4738.000000,
	3113.000000,
	"c2aa7b9a-603e-4bba-a681-f17da80b144f",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("c2aa7b9a-603e-4bba-a681-f17da80b144f",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO GD_CTXT
	VALUES ("89a6d46c-0883-41c3-8cfe-2c38399c62ac",
	"2df49237-814e-40de-a046-59de057c75e4",
	2,
	0.000000,
	0.000000);
INSERT INTO DIM_ND
	VALUES (0.000000,
	0.000000,
	"89a6d46c-0883-41c3-8cfe-2c38399c62ac");
INSERT INTO DIM_GE
	VALUES (0.000000,
	0.000000,
	"89a6d46c-0883-41c3-8cfe-2c38399c62ac",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("89a6d46c-0883-41c3-8cfe-2c38399c62ac",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO GD_LS
	VALUES ("ea64bde6-64e5-453f-89ad-e52dd38a5b9a",
	"2df49237-814e-40de-a046-59de057c75e4",
	"00000000-0000-0000-0000-000000000000",
	"278adf4b-1a57-4ace-b732-5c5ff1cbfcee",
	"c529bbb9-77ee-4620-b53c-fe5b458b7627");
INSERT INTO DIM_WAY
	VALUES ("278adf4b-1a57-4ace-b732-5c5ff1cbfcee",
	4713.000000,
	3180.000000,
	"2df49237-814e-40de-a046-59de057c75e4",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_WAY
	VALUES ("c529bbb9-77ee-4620-b53c-fe5b458b7627",
	4776.000000,
	3180.000000,
	"2df49237-814e-40de-a046-59de057c75e4",
	"00000000-0000-0000-0000-000000000000",
	"278adf4b-1a57-4ace-b732-5c5ff1cbfcee");
INSERT INTO DIM_GE
	VALUES (0.000000,
	0.000000,
	"2df49237-814e-40de-a046-59de057c75e4",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ELE
	VALUES ("2df49237-814e-40de-a046-59de057c75e4",
	0,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO DIM_ED
	VALUES ("902c8784-0c66-4fe5-b55d-b0fdf378009e",
	"00000000-0000-0000-0000-000000000000",
	"2df49237-814e-40de-a046-59de057c75e4");
INSERT INTO DIM_DIA
	VALUES ("846b2303-6b52-4914-8188-85dc5951f45b",
	'',
	1.000000,
	4000.000000,
	3000.000000,
	"00000000-0000-0000-0000-000000000000");
INSERT INTO C_PO
	VALUES ("54eb899f-f23f-4a84-8403-f0454a9283e7",
	"ab2192c8-8390-4631-9e2c-fca2a1f30c08",
	'UserInterface',
	0,
	0);
INSERT INTO C_IR
	VALUES ("36293ad6-77b6-4c0b-a2dd-f02064f6189a",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	"00000000-0000-0000-0000-000000000000",
	"54eb899f-f23f-4a84-8403-f0454a9283e7");
INSERT INTO C_P
	VALUES ("36293ad6-77b6-4c0b-a2dd-f02064f6189a",
	'BookingProvider',
	'Unnamed Interface',
	'',
	'HotelComponent::UserInterface::BookingProvider');
INSERT INTO SPR_PEP
	VALUES ("ad67a789-a0d9-4e09-8c1b-cc137ff39554",
	"8500002a-94f3-4a61-bfa8-32f8fd7d89b4",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("ad67a789-a0d9-4e09-8c1b-cc137ff39554",
	'requestAvailableBookables',
	'',
	'select any session from instances of BOOKINGSESSION where (selected.ID == param.sessionID);

if (not_empty session)
	result = session.search(fromDate: param.fromDate, 
							toDate: param.toDate,
							facilityType: param.facilityType);
	if(empty result)
		send BookingProvider::errorSignal(message: "No rooms found");
	end if;
							
	for each ft in result		
		select one b related by ft->BOOKABLE[R2];
		send BookingProvider::available(id: ft.id , 
										price: b.price , 
										description: b.description,
										aproximateArea: ft.approximateArea,
										independent: false);
	end for;
else
	send BookingProvider::errorSignal(message: "Session not found");
end if;',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("8500002a-94f3-4a61-bfa8-32f8fd7d89b4",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'requestAvailableBookables',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("bd3fdb96-1c93-414b-9f1d-6b837b25374d",
	"54d1cfcd-e847-40b5-be88-ddf038c56595",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("bd3fdb96-1c93-414b-9f1d-6b837b25374d",
	'available',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("54d1cfcd-e847-40b5-be88-ddf038c56595",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'available',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("abc6b7f2-37a1-405e-a869-e8c1c3ff68f8",
	"55b848f9-d68a-4698-bf86-446ac83e49f5",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("abc6b7f2-37a1-405e-a869-e8c1c3ff68f8",
	'select',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("55b848f9-d68a-4698-bf86-446ac83e49f5",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'select',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("e57ea280-c4da-4c33-a6bd-b5a55b1d476a",
	"10d65452-16c4-45b0-ad3e-4dec03bb99a7",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("e57ea280-c4da-4c33-a6bd-b5a55b1d476a",
	'extraServices',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("10d65452-16c4-45b0-ad3e-4dec03bb99a7",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'extraServices',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("f4f69049-a18c-40db-908e-fde4956ebd16",
	"87ed1c56-1bee-4041-bca4-056967095bc2",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("f4f69049-a18c-40db-908e-fde4956ebd16",
	'addServices',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("87ed1c56-1bee-4041-bca4-056967095bc2",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'addServices',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("bf9df925-e6b4-4ed6-80d9-5ccf5795e43b",
	"57eb1124-4a29-48ad-8677-d8760788067a",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("bf9df925-e6b4-4ed6-80d9-5ccf5795e43b",
	'customerDetails',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("57eb1124-4a29-48ad-8677-d8760788067a",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'customerDetails',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("0c0df819-2738-4521-8efe-cfb0e7d5f5ac",
	"275df8ce-b628-4b96-85dd-66e9224fc9df",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("0c0df819-2738-4521-8efe-cfb0e7d5f5ac",
	'addGuest',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("275df8ce-b628-4b96-85dd-66e9224fc9df",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'addGuest',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("100207a1-8747-4b7c-a2b4-4b3cd928a7e1",
	"40e06920-24e2-499d-b1c8-deb66c9637ec",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("100207a1-8747-4b7c-a2b4-4b3cd928a7e1",
	'paymentInfo',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("40e06920-24e2-499d-b1c8-deb66c9637ec",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'paymentInfo',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("adf84adb-26cf-413b-bd98-e3ff7028bfbd",
	"19aa6808-338c-45b0-8a31-1b3efb70b47a",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("adf84adb-26cf-413b-bd98-e3ff7028bfbd",
	'bookingConfirmation',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("19aa6808-338c-45b0-8a31-1b3efb70b47a",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'bookingConfirmation',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("6752f1fb-4d87-4e38-a4d2-a76b30240df9",
	"89169ec3-d50b-4b5b-95fa-d95fb15c3f98",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("6752f1fb-4d87-4e38-a4d2-a76b30240df9",
	'errorSignal',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("89169ec3-d50b-4b5b-95fa-d95fb15c3f98",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'errorSignal',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("52f59bac-a1c2-4318-a901-bbe93808d139",
	"b21fad1b-897b-424f-84f8-01bdab76de49",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("52f59bac-a1c2-4318-a901-bbe93808d139",
	'requestSession',
	'',
	'// Initialize a booking session
LOG::LogInfo(message: "Recieved session request");
create object instance session of BOOKINGSESSION;

create object instance booking of BOOKING;
relate session to booking across R26;

send BookingProvider::session(sessionID: session.ID);
send BookingProvider::bookingConfirmation(message: "Hej");',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("b21fad1b-897b-424f-84f8-01bdab76de49",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'requestSession',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO SPR_PEP
	VALUES ("9a412571-97a5-4764-873e-18ee296bab0f",
	"0a31b7ea-b3a4-43b3-bfab-1e664637468e",
	"36293ad6-77b6-4c0b-a2dd-f02064f6189a");
INSERT INTO SPR_PS
	VALUES ("9a412571-97a5-4764-873e-18ee296bab0f",
	'session',
	'',
	'',
	1);
INSERT INTO C_EP_PROXY
	VALUES ("0a31b7ea-b3a4-43b3-bfab-1e664637468e",
	"708e7060-3f4e-41ab-94ce-7b712ad36251",
	-1,
	'session',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO C_I_PROXY
	VALUES ("708e7060-3f4e-41ab-94ce-7b712ad36251",
	"00000000-0000-0000-0000-000000000000",
	'BookingProvider',
	'',
	'../Interfaces/BookingProvider/BookingProvider.xtuml');
INSERT INTO PE_PE
	VALUES ("ab2192c8-8390-4631-9e2c-fca2a1f30c08",
	1,
	"08644b1f-a992-4e52-8ec3-1f5eff4dec19",
	"00000000-0000-0000-0000-000000000000",
	2);
INSERT INTO EP_PKG_PROXY
	VALUES ("08644b1f-a992-4e52-8ec3-1f5eff4dec19",
	"77552e13-265a-4a67-beca-bb6af5f15d0b",
	"77552e13-265a-4a67-beca-bb6af5f15d0b",
	'Library',
	'',
	0,
	'../Library.xtuml');
